import 'package:image_picker/image_picker.dart';

Future<XFile?> pickImage() async {
  final ImagePicker picker = ImagePicker();
  return await picker.pickImage(source: ImageSource.gallery);
}


//Todo post file {image} on server 

var uri = Uri.parse(ApiHelper.baseUrl + ApiEndpoints.policeRequest);
      var request = http.MultipartRequest('POST', uri);

      // Add headers
      request.headers.addAll({
        "Content-Type": "application/json",
        "Authorization": token,
      });

      // Add police request ID
      request.fields['police_request_Type'] = requestType;
      request.fields['police_request_Reason'] = policeRequestReason!;
      request.fields['police_request_Latitude'] = position.latitude.toString();
      request.fields['police_request_Longitude'] =
          position.longitude.toString();
      // request.fields['evidence_Type'] = evidenceType;

      List<String> filePathList = [];
      for (var file in evidenceFiles) {
        filePathList.add(file);

        String fileType = _getFileType(file);
        request.files.add(
          await http.MultipartFile.fromPath(
            'file',
            file,
            contentType: MediaType.parse(fileType),
          ),
        );
      }

      final streamedResponse = await request.send();
      final response = await http.Response.fromStream(streamedResponse);

      print(response.body);
      Map<String, dynamic> responseData = json.decode(response.body);
      print(responseData);
